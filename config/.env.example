# Vigil Guard Environment Configuration
# Copy this file to .env in the project root and customize the values

# ============================================
# DOCKER NETWORK
# ============================================
COMPOSE_PROJECT_NAME=vigil-guard

# ============================================
# WEB UI - BACKEND
# ============================================
BACKEND_PORT=8787
NODE_ENV=production
TARGET_DIR=/config
AUDIT_LOG_PATH=/app/audit.log

# JWT Authentication (CHANGE THIS!)
JWT_SECRET=change-this-to-a-secure-random-string-at-least-32-characters-long

# ============================================
# WEB UI - FRONTEND
# ============================================
FRONTEND_PORT=5173
VITE_API_BASE_URL=/api
VITE_GRAFANA_URL=http://localhost:3001

# ============================================
# CLICKHOUSE DATABASE
# ============================================
CLICKHOUSE_PORT_HTTP=8123
CLICKHOUSE_PORT_TCP=9000
CLICKHOUSE_USER=admin
CLICKHOUSE_PASSWORD=admin123
CLICKHOUSE_DATABASE=n8n_logs

# ============================================
# GRAFANA
# ============================================
GRAFANA_PORT=3001
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=admin123
GF_SECURITY_ALLOW_EMBEDDING=true
GF_SECURITY_COOKIE_SAMESITE=lax
GF_AUTH_ANONYMOUS_ENABLED=true
GF_AUTH_ANONYMOUS_ORG_ROLE=Viewer

# ============================================
# N8N WORKFLOW ENGINE
# ============================================
N8N_PORT=5678
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=admin123

# ============================================
# PROMPT GUARD API
# ============================================
PROMPT_GUARD_PORT=8000
MODEL_PATH=/app/model

# ============================================
# CADDY REVERSE PROXY
# ============================================
CADDY_HTTP_PORT=80
CADDY_HTTPS_PORT=443
DOMAIN=localhost

# ============================================
# DATA DIRECTORIES
# ============================================
# All data will be stored in ./vigil_data/
# This is automatically created by install.sh

# ============================================
# SECURITY NOTES
# ============================================
# 1. CHANGE JWT_SECRET to a secure random string
# 2. CHANGE Grafana admin password in production
# 3. CHANGE n8n credentials in production
# 4. CHANGE ClickHouse password in production
# 5. Use HTTPS in production (configure Caddy)

# ============================================
# OPTIONAL CONFIGURATION
# ============================================

# Logging level (debug, info, warn, error)
LOG_LEVEL=info

# Maximum backup files to keep
MAX_BACKUPS=2

# Session timeout (in seconds)
SESSION_TIMEOUT=3600

# Enable debug mode (true/false)
DEBUG=false
