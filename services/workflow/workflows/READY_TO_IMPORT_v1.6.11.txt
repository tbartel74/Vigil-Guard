âœ… WORKFLOW v1.6.10 READY FOR IMPORT TO N8N

ğŸ“¦ File: Vigil-Guard-v1.6.10.json (132KB)
ğŸ“– Instructions: IMPORT_INSTRUCTIONS_v1.6.10.md
ğŸš€ Major Feature: Dual-Language PII Detection (Polish + International)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
IMPORT STEPS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Open n8n: http://localhost:5678
2. Import â†’ Select File â†’ Vigil-Guard-v1.6.10.json
3. Configure ClickHouse credentials (host: vigil-clickhouse)
4. Activate workflow
5. Test with: curl -X POST "http://localhost:5678/webhook/..." -d '{"chatInput":"..."}'

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
KEY CHANGES IN v1.6.10:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… DUAL-LANGUAGE DETECTION
   - Parallel API calls (pl + en)
   - Credit cards + Polish PII in same request
   - ~200-300ms total latency

âœ… ENTITY DEDUPLICATION
   - Removes overlapping detections
   - Keeps highest-score entity

âœ… LANGUAGE STATISTICS
   - Logs: pii.language_stats.polish_entities
   - Logs: pii.language_stats.international_entities
   - Logs: pii.language_stats.total_after_dedup

âœ… BACKWARD COMPATIBLE
   - Same output format as v1.6.9
   - Same redaction token mapping

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TESTING:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Test 1: Credit Card
curl -X POST "http://localhost:5678/webhook/42f773e2-7ebf-42f7-a993-8be016d218e1" \
  -H "Content-Type: application/json" \
  -d '{"chatInput":"My card is 4111111111111111","sessionId":"test_card"}'

Expected: result = "my card is [CARD]"

Test 2: PESEL
curl -X POST "http://localhost:5678/webhook/42f773e2-7ebf-42f7-a993-8be016d218e1" \
  -H "Content-Type: application/json" \
  -d '{"chatInput":"PESEL 44051401359","sessionId":"test_pesel"}'

Expected: result = "pesel [PESEL]"

Test 3: Both
curl -X POST "http://localhost:5678/webhook/42f773e2-7ebf-42f7-a993-8be016d218e1" \
  -H "Content-Type: application/json" \
  -d '{"chatInput":"Card 5555555555554444 and PESEL 44051401359","sessionId":"test_both"}'

Expected: result = "card [CARD] and [PESEL]"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PREREQUISITES:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Presidio PII API running (port 5001)
âœ… Polish recognizers: supported_language = pl
âœ… Credit card recognizer: supported_language = en
âœ… unified_config.json: pii_detection.enabled = true
âœ… ClickHouse credentials configured

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TROUBLESHOOTING:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ "No matching recognizers" error
   â†’ Check recognizers.yaml language configuration

âŒ Entities not masked
   â†’ Check unified_config.json redaction_tokens mapping

âŒ High latency (>500ms)
   â†’ Check Presidio container health
   â†’ Verify parallel API calls in logs

âŒ Rollback needed
   â†’ Import Vigil-Guard-v1.6.9.json
   â†’ Note: v1.6.9 only detects international PII (language: en)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
